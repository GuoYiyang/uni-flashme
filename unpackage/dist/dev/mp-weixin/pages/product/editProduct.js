(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/product/editProduct"],{763:function(e,t,n){"use strict";(function(e,t){var o=n(4);n(26);o(n(25));var i=o(n(764));e.__webpack_require_UNI_MP_PLUGIN__=n,t(i.default)}).call(this,n(1)["default"],n(2)["createPage"])},764:function(e,t,n){"use strict";n.r(t);var o=n(765),i=n(767);for(var u in i)["default"].indexOf(u)<0&&function(e){n.d(t,e,(function(){return i[e]}))}(u);var r,a=n(37),s=Object(a["default"])(i["default"],o["render"],o["staticRenderFns"],!1,null,null,null,!1,o["components"],r);s.options.__file="pages/product/editProduct.vue",t["default"]=s.exports},765:function(e,t,n){"use strict";n.r(t);var o=n(766);n.d(t,"render",(function(){return o["render"]})),n.d(t,"staticRenderFns",(function(){return o["staticRenderFns"]})),n.d(t,"recyclableRender",(function(){return o["recyclableRender"]})),n.d(t,"components",(function(){return o["components"]}))},766:function(e,t,n){"use strict";var o;n.r(t),n.d(t,"render",(function(){return i})),n.d(t,"staticRenderFns",(function(){return r})),n.d(t,"recyclableRender",(function(){return u})),n.d(t,"components",(function(){return o}));try{o={"u-Form":function(){return Promise.all([n.e("common/vendor"),n.e("uni_modules/uview-ui/components/u--form/u--form")]).then(n.bind(null,466))},uFormItem:function(){return Promise.all([n.e("common/vendor"),n.e("uni_modules/uview-ui/components/u-form-item/u-form-item")]).then(n.bind(null,472))},"u-Input":function(){return Promise.all([n.e("common/vendor"),n.e("uni_modules/uview-ui/components/u--input/u--input")]).then(n.bind(null,480))},uIcon:function(){return Promise.all([n.e("common/vendor"),n.e("uni_modules/uview-ui/components/u-icon/u-icon")]).then(n.bind(null,393))},uPicker:function(){return Promise.all([n.e("common/vendor"),n.e("uni_modules/uview-ui/components/u-picker/u-picker")]).then(n.bind(null,336))},uButton:function(){return Promise.all([n.e("common/vendor"),n.e("uni_modules/uview-ui/components/u-button/u-button")]).then(n.bind(null,326))}}}catch(a){if(-1===a.message.indexOf("Cannot find module")||-1===a.message.indexOf(".vue"))throw a;console.error(a.message),console.error("1. 排查组件名称拼写是否正确"),console.error("2. 排查组件是否符合 easycom 规范，文档：https://uniapp.dcloud.net.cn/collocation/pages?id=easycom"),console.error("3. 若组件不符合 easycom 规范，需手动引入，并在 components 中注册该组件")}var i=function(){var e=this,t=e.$createElement,n=(e._self._c,{"font-weight":300,"font-size":"14px","line-height":"16px",color:"#808080"});e._isMounted||(e.e0=function(t){e.showCate=!0},e.e1=function(t){e.showCate=!1}),e.$mp.data=Object.assign({},{$root:{a0:n}})},u=!1,r=[];i._withStripped=!0},767:function(e,t,n){"use strict";n.r(t);var o=n(768),i=n.n(o);for(var u in o)["default"].indexOf(u)<0&&function(e){n.d(t,e,(function(){return o[e]}))}(u);t["default"]=i.a},768:function(e,t,n){"use strict";(function(e){var o=n(4);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=o(n(5)),u=n(168),r=n(169),a={data:function(){return{productId:"",overlayShow:!1,tempFiles:[],imageValue:[],form:{title:"",tag:"",tagText:"",price:"",content:{}},imageStyles:{height:110,width:110,border:{color:"#E6E6E6",width:"1px",style:"solid",radius:"8px"}},showCate:!1,cateList:[[{text:"写真",value:0},{text:"情侣",value:1},{text:"婚纱",value:2},{text:"职场",value:3},{text:"孕妇",value:4},{text:"宝宝",value:5},{text:"家庭",value:6}]],rules:{title:{type:"string",required:!0,min:2,max:20,message:"长度为2-20个字符",trigger:["blur","change"]}}}},methods:{cateSelect:function(e){this.form.tag=e.value[0].value,this.form.tagText=e.value[0].text,this.showCate=!1},seleteImage:function(e){var t=this;e.tempFiles.map((function(e){t.tempFiles.push(e)}))},deleteImage:function(e){var t=this;this.tempFiles.map((function(n,o){n.path==e.tempFile.path&&t.tempFiles.splice(o,1)}))},publish:function(){var t=this;(0,u.publishProduct)({id:this.productId,userId:getApp().globalData.USER_ID,title:this.form.title,content:JSON.stringify(this.form.content),tags:this.form.tag.toString()}).then((function(n){var o=(0,i.default)(n,2),u=(o[0],o[1]);1==u.data?e.showToast({title:"修改成功"}):(e.showToast({icon:"error",title:"修改失败"}),t.overlayShow=!1),setTimeout((function(){e.navigateBack()}),1e3)}))},submit:function(){var t=this;this.$refs.Form.validate().then((function(n){e.showLoading({title:"请稍等"}),t.overlayShow=!0,t.publish()})).catch((function(t){e.showToast({icon:"error",title:"正确"})}))}},onLoad:function(e){var t=this;this.productId=e.id,this.$refs.Form.setRules(this.rules),(0,u.productDetail)({id:e.id}).then((function(e){var n=(0,i.default)(e,2),o=(n[0],n[1]);t.form.title=o.data.title,t.form.tag=o.data.tags,t.form.tagText=(0,r.changeTag)(o.data.tags),o.data.imgUrlList.map((function(e){var n=e.split("."),o={name:e,extname:n[n.length-1],url:e};t.imageValue.push(o)}))}))}};t.default=a}).call(this,n(2)["default"])}},[[763,"common/runtime","common/vendor"]]]);
//# sourceMappingURL=../../../.sourcemap/mp-weixin/pages/product/editProduct.js.map