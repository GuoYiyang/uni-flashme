(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/product/product"],{186:function(e,t,n){"use strict";(function(e,t){var o=n(4);n(26);o(n(25));var i=o(n(187));e.__webpack_require_UNI_MP_PLUGIN__=n,t(i.default)}).call(this,n(1)["default"],n(2)["createPage"])},187:function(e,t,n){"use strict";n.r(t);var o=n(188),i=n(190);for(var a in i)["default"].indexOf(a)<0&&function(e){n.d(t,e,(function(){return i[e]}))}(a);n(192);var u,r=n(37),c=Object(r["default"])(i["default"],o["render"],o["staticRenderFns"],!1,null,"2fbdbe34",null,!1,o["components"],u);c.options.__file="pages/product/product.vue",t["default"]=c.exports},188:function(e,t,n){"use strict";n.r(t);var o=n(189);n.d(t,"render",(function(){return o["render"]})),n.d(t,"staticRenderFns",(function(){return o["staticRenderFns"]})),n.d(t,"recyclableRender",(function(){return o["recyclableRender"]})),n.d(t,"components",(function(){return o["components"]}))},189:function(e,t,n){"use strict";var o;n.r(t),n.d(t,"render",(function(){return i})),n.d(t,"staticRenderFns",(function(){return u})),n.d(t,"recyclableRender",(function(){return a})),n.d(t,"components",(function(){return o}));try{o={uSwiper:function(){return Promise.all([n.e("common/vendor"),n.e("uni_modules/uview-ui/components/u-swiper/u-swiper")]).then(n.bind(null,418))},uRow:function(){return Promise.all([n.e("common/vendor"),n.e("uni_modules/uview-ui/components/u-row/u-row")]).then(n.bind(null,361))},uTag:function(){return Promise.all([n.e("common/vendor"),n.e("uni_modules/uview-ui/components/u-tag/u-tag")]).then(n.bind(null,426))},uCol:function(){return Promise.all([n.e("common/vendor"),n.e("uni_modules/uview-ui/components/u-col/u-col")]).then(n.bind(null,369))},uAvatar:function(){return Promise.all([n.e("common/vendor"),n.e("uni_modules/uview-ui/components/u-avatar/u-avatar")]).then(n.bind(null,377))},uIcon:function(){return Promise.all([n.e("common/vendor"),n.e("uni_modules/uview-ui/components/u-icon/u-icon")]).then(n.bind(null,393))},uScrollList:function(){return Promise.all([n.e("common/vendor"),n.e("uni_modules/uview-ui/components/u-scroll-list/u-scroll-list")]).then(n.bind(null,344))},uPopup:function(){return Promise.all([n.e("common/vendor"),n.e("uni_modules/uview-ui/components/u-popup/u-popup")]).then(n.bind(null,434))},uLine:function(){return Promise.all([n.e("common/vendor"),n.e("uni_modules/uview-ui/components/u-line/u-line")]).then(n.bind(null,442))},uActionSheet:function(){return Promise.all([n.e("common/vendor"),n.e("uni_modules/uview-ui/components/u-action-sheet/u-action-sheet")]).then(n.bind(null,450))},uTabbar:function(){return Promise.all([n.e("common/vendor"),n.e("uni_modules/uview-ui/components/u-tabbar/u-tabbar")]).then(n.bind(null,458))},uButton:function(){return Promise.all([n.e("common/vendor"),n.e("uni_modules/uview-ui/components/u-button/u-button")]).then(n.bind(null,326))}}}catch(r){if(-1===r.message.indexOf("Cannot find module")||-1===r.message.indexOf(".vue"))throw r;console.error(r.message),console.error("1. 排查组件名称拼写是否正确"),console.error("2. 排查组件是否符合 easycom 规范，文档：https://uniapp.dcloud.net.cn/collocation/pages?id=easycom"),console.error("3. 若组件不符合 easycom 规范，需手动引入，并在 components 中注册该组件")}var i=function(){var e=this,t=e.$createElement,n=(e._self._c,e.imgUrlList.length),o=e.other.list.length,i=e.planList==[]||0==e.planList.length,a=e.planList.length;e._isMounted||(e.e0=function(t){return e.currentNum=t.current},e.e1=function(e){this.popPlanShow=!1},e.e2=function(e){this.popShow=!1},e.e3=function(e){this.popPlanShow=!0},e.e4=function(e){this.popShow=!0}),e.$mp.data=Object.assign({},{$root:{g0:n,g1:o,g2:i,g3:a}})},a=!1,u=[];i._withStripped=!0},190:function(e,t,n){"use strict";n.r(t);var o=n(191),i=n.n(o);for(var a in o)["default"].indexOf(a)<0&&function(e){n.d(t,e,(function(){return o[e]}))}(a);t["default"]=i.a},191:function(e,t,n){"use strict";(function(e){var o=n(4);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=o(n(30)),a=o(n(5)),u=o(n(32)),r=n(168),c=n(33),l=n(169),s={data:function(){return{icon:{collectIcon:"/static/heart.png"},other:{list:[]},windowWidth:"",swiperHeight:"",productId:"",cameramanId:"",cameramanAvatar:"",cameramanName:"",cameramanDesc:{},cameramanPhone:"",cameramanCity:"",imgUrlList:[],title:"",price:"",tags:[],content:"",tabsCurrent:0,productDetailShow:!0,productCustomerShow:!1,isCollect:!1,info:"",introduction:"",currentNum:0,popShow:!1,popPlanShow:!1,image:"",popList:[{name:"电话"}],collectCnt:0,notice:"",planList:[]}},methods:{selectClick:function(t){"电话"==t.name&&e.makePhoneCall({phoneNumber:this.cameramanPhone}),"微信"==t.name&&e.setClipboardData({data:this.cameramanDesc.wxid})},clickSwiper:function(t){var n=t.id;e.navigateTo({url:"../product/product?id="+n})},wapperClick:function(t){e.navigateTo({url:"../product/product?id="+t.id})},imageClick:function(t){e.navigateTo({url:"../product/product?id="+t.id})},previewImg:function(t){e.previewImage({current:t,urls:this.imgUrlList})},clickCard:function(){e.navigateTo({url:"../userShow/userShow?userId="+this.cameramanId})},tabsChange:function(e){this.tabsCurrent=e.index,0==e.index&&(this.productDetailShow=!0,this.productCustomerShow=!1),1==e.index&&(this.productDetailShow=!1,this.productCustomerShow=!0)},collectClick:function(){this.isCollect=!this.isCollect,this.isCollect?(this.icon.collectIcon="/static/heart-fill.png",this.collectCnt++,(0,r.productCollect)({userId:getApp().globalData.USER_ID,productId:this.productId,isDelete:0})):(this.icon.collectIcon="/static/heart.png",this.collectCnt--,(0,r.productCollect)({userId:getApp().globalData.USER_ID,productId:this.productId,isDelete:1}))}},onReady:function(){e.hideNavigationBarLoading()},onLoad:function(t){var n=this;return(0,u.default)(i.default.mark((function o(){return i.default.wrap((function(o){while(1)switch(o.prev=o.next){case 0:return e.showNavigationBarLoading(),o.next=3,n.$onLaunched;case 3:n.productId=t.id,(0,r.productDetail)({id:t.id}).then((function(o){var i=(0,a.default)(o,2),u=(i[0],i[1]);n.imgUrlList=u.data.imgUrlList,n.title=u.data.title,n.price=u.data.price,n.tags=(0,l.changeTag)(u.data.tags),n.cameramanId=u.data.userId,n.content=u.data.content,n.image=u.data.image,e.setNavigationBarTitle({title:n.title});var s=JSON.parse(u.data.userId);n.info=s.info,n.introduction=s.introduction,(0,c.getUserInfo)({userId:n.cameramanId}).then((function(e){var t=(0,a.default)(e,2),o=(t[0],t[1]);n.cameramanAvatar=o.data.avatar,n.cameramanName=o.data.nickname,n.cameramanDesc=JSON.parse(o.data.desc),n.cameramanPhone=o.data.phone,n.cameramanCity=(0,l.changeCity)(o.data.city),n.notice=o.data.notice,null!=n.cameramanDesc.wxid&&n.popList.push({name:"微信"})})),(0,r.productRandom)({userId:n.cameramanId,status:"SUCCESS",excludeProductId:t.id}).then((function(e){var t=(0,a.default)(e,2),o=(t[0],t[1]);n.other.list=o.data})),(0,c.getUserPlanList)({userId:n.cameramanId}).then((function(e){var t=(0,a.default)(e,2),o=(t[0],t[1]);n.planList=o.data,n.planList.map((function(e){e.content=JSON.parse(e.content),e.content.peopleNum=(0,l.changePeopleNum)(e.content.peopleNum),e.content.scene=(0,l.changeScene)(e.content.scene),e.content.sceneNum=(0,l.changeSceneNum)(e.content.sceneNum),e.content.isDress=e.content.isDress?"是":"否",e.content.isMakeup=e.content.isMakeup?"是":"否"}))}))})),(0,r.getProductCollectStatus)({userId:getApp().globalData.USER_ID,productId:n.productId}).then((function(e){var t=(0,a.default)(e,2),o=(t[0],t[1]);n.isCollect=o.data,n.isCollect?n.icon.collectIcon="/static/heart-fill.png":n.icon.collectIcon="/static/heart.png"})),(0,r.getProductCollectCnt)({productId:n.productId}).then((function(e){var t=(0,a.default)(e,2),o=(t[0],t[1]);n.collectCnt=o.data})),e.showShareMenu({withShareTicket:!0,menus:["shareAppMessage","shareTimeline"]});case 8:case"end":return o.stop()}}),o)})))()},onShow:function(){this.tabsCurrent=0,this.productDetailShow=!0,this.productCustomerShow=!1},onShareAppMessage:function(e){return{title:this.title,path:"/pages/product/product?id="+this.productId}}};t.default=s}).call(this,n(2)["default"])},192:function(e,t,n){"use strict";n.r(t);var o=n(193),i=n.n(o);for(var a in o)["default"].indexOf(a)<0&&function(e){n.d(t,e,(function(){return o[e]}))}(a);t["default"]=i.a},193:function(e,t,n){}},[[186,"common/runtime","common/vendor"]]]);
//# sourceMappingURL=../../../.sourcemap/mp-weixin/pages/product/product.js.map